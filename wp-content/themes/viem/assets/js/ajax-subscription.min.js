jQuery(document).ready(function(u){"use strict";jQuery("a.viem-subscribe-button").on("click",function(e){if(0<jQuery(this).find(".data-subcription").length){e.preventDefault();var r=jQuery(this),s=jQuery(r).find(".data-subcription").attr("data-id-sub"),t=jQuery(r).find(".data-subcription").attr("data-user-id"),i=jQuery(r).find(".data-subcription").attr("data-nonce");u.ajax({type:"POST",dataType:"json",url:viem_ajax_channel_subscription_object.ajaxurl,data:{action:"jcajaxsubscription",channel_id:s,user_id:t,nonce:i},success:function(e){var s=jQuery("#viem-popup-container").find(".notification-action-renderer");jQuery(s).html(e.message).addClass("active"),1==e.subscribed?(jQuery(r).removeClass("subscribe"),jQuery(r).addClass("subscribed")):(jQuery(r).removeClass("subscribed"),jQuery(r).addClass("subscribe")),jQuery(r).closest(".viem-subscribe-renderer").find(".subscribers-count").html(e.subscriber_count),setTimeout(function(){jQuery(s).removeClass("active")},3e3)},error:function(e){console.log(e)}})}})});